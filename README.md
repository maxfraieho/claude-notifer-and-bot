# üìÑ **README: –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Claude Code Telegram Bot –∑ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ**

–¶—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ Telegram-–±–æ—Ç–∞, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–ø–æ–≤—ñ—â–∞—î –ø—Ä–æ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å Claude CLI —É Telegram-—á–∞—Ç–∏.

---

## üê≥ **1. Dockerfile**

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `Dockerfile` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:

```dockerfile
# Dockerfile

FROM python:3.11-slim AS builder

# –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –û–°, –≤–∫–ª—é—á–∞—é—á–∏ nodejs/npm –¥–ª—è claude CLI
RUN apt-get update && apt-get install -y \
    curl \
    git \
    jq \
    gcc \
    nodejs \
    npm \
    && rm -rf /var/lib/apt/lists/*

# –°—Ç–≤–æ—Ä—é—î–º–æ –Ω–µ—Ä—É—Ç–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
RUN useradd -m -u 1001 -s /bin/bash claudebot

# –ü–µ—Ä–µ–º–∏–∫–∞—î–º–æ—Å—è –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
USER claudebot
WORKDIR /home/claudebot

# –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–º—ñ–Ω–Ω—É HOME ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø–æ—à—É–∫—É ~/.claude
ENV HOME=/home/claudebot

# –ö–æ–ø—ñ—é—î–º–æ —Ñ–∞–π–ª–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
COPY --chown=claudebot:claudebot pyproject.toml poetry.lock ./

# –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ Poetry —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
RUN curl -sSL https://install.python-poetry.org | python3 -
ENV PATH="/home/claudebot/.local/bin:${PATH}"
RUN poetry config virtualenvs.create false && poetry install --only=main

# –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ Claude CLI –≥–ª–æ–±–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ npm
# (–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–æ–∫–µ–Ω –∑ ~/.claude, —è–∫–∏–π –º–æ–Ω—Ç—É—î—Ç—å—Å—è –∑ —Ö–æ—Å—Ç—É)
RUN npm install -g @anthropic-ai/claude-code

# –ö–æ–ø—ñ—é—î–º–æ —Ä–µ—à—Ç—É –∫–æ–¥—É
COPY --chown=claudebot:claudebot . .

# –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
ENTRYPOINT ["python", "-m", "src.main"]
```

> **–ü—Ä–∏–º—ñ—Ç–∫–∞**: –Ø–∫—â–æ `poetry` –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –∑–∞–º—ñ–Ω—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ä—è–¥–∫–∏ –Ω–∞ `COPY requirements.txt .` —Ç–∞ `RUN pip install -r requirements.txt`.

---

## üêã **2. docker-compose.yml**

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `docker-compose.yml`:

```yaml
# docker-compose.yml

version: '3.8'

services:
  claude_bot:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: claude-code-bot
    restart: unless-stopped
    env_file:
      - .env
    volumes:
      - ./data:/app/data
      # –ú–æ–Ω—Ç—É—î–º–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –∑ —Ç–æ–∫–µ–Ω–æ–º –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó Claude CLI –∑ —Ö–æ—Å—Ç—É —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
      - ~/.claude:/home/claudebot/.claude
    working_dir: /app
    user: "1001:1001"
    healthcheck:
      test: ["CMD", "python", "-c", "import sys; sys.exit(0) if __import__('src.main') else sys.exit(1)"]
      interval: 60s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

volumes:
  data:
```

> **–î–ª—è Windows –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**:  
> –ó–∞–º—ñ—Å—Ç—å `~/.claude` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `${USERPROFILE}/.claude` —É `docker-compose.yml`.

---

## üîê **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è Claude CLI**

–î–ª—è —Ä–æ–±–æ—Ç–∏ Claude CLI –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ **–Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –Ω–∞ —Ö–æ—Å—Ç—ñ**, –∞ –ø–æ—Ç—ñ–º **–º–æ–Ω—Ç—É–≤–∞—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –∑ —Ç–æ–∫–µ–Ω–æ–º** —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

### –ö—Ä–æ–∫–∏:

#### 1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Claude CLI –Ω–∞ —Ö–æ—Å—Ç—ñ (—è–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)

```bash
npm install -g @anthropic-ai/claude-code
```

#### 2. –í–∏–∫–æ–Ω–∞–π—Ç–µ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –Ω–∞ —Ö–æ—Å—Ç—ñ

```bash
claude auth login
```

–í–∞–º –±—É–¥–µ –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É –±—Ä–∞—É–∑–µ—Ä—ñ —Ç–∞ —É–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å Anthropic.

#### 3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ç–æ–∫–µ–Ω –∑–±–µ—Ä–µ–∂–µ–Ω–æ

–ü—ñ—Å–ª—è –≤—Ö–æ–¥—É, —Ç–æ–∫–µ–Ω –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É:

- **Linux/macOS**: `~/.claude`
- **Windows**: `%USERPROFILE%\.claude`

#### 4. –ú–æ–Ω—Ç—É–≤–∞–Ω–Ω—è —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

–î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è `~/.claude` –º–æ–Ω—Ç—É—î—Ç—å—Å—è —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É `docker-compose.yml`:

```yaml
volumes:
  - ~/.claude:/home/claudebot/.claude
```

> **–î–ª—è Windows**: –ó–∞–º—ñ–Ω—ñ—Ç—å `~/.claude` –Ω–∞ `${USERPROFILE}/.claude` —É `docker-compose.yml`.

#### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
docker-compose up -d --build
```

–¢–µ–ø–µ—Ä Claude CLI –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–æ–∫–µ–Ω, –æ—Ç—Ä–∏–º–∞–Ω–∏–π –Ω–∞ —Ö–æ—Å—Ç—ñ.

---

### üîÑ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?

- `claude auth login` –Ω–∞ —Ö–æ—Å—Ç—ñ –∑–±–µ—Ä—ñ–≥–∞—î —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É —É `~/.claude`.
- –ü—Ä–∏ –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—ñ —Ü—ñ—î—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, `claude` CLI –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ **–±–∞—á–∏—Ç—å —Ç–æ–π —Å–∞–º–∏–π —Ç–æ–∫–µ–Ω**.
- –¶–µ –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ `auth login` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—â–æ —Å–∫–ª–∞–¥–Ω–æ —á–µ—Ä–µ–∑ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –±—Ä–∞—É–∑–µ—Ä–∞).
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —ñ —Ö–æ—Å—Ç **–¥—ñ–ª—è—Ç—å –æ–¥–∏–Ω —Ç–æ–∫–µ–Ω**, —â–æ —Å–ø—Ä–æ—â—É—î —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è.

---

### üö® **Troubleshooting: –¢–æ–∫–µ–Ω –ø—Ä–æ—Ç–µ—Ä–º—ñ–Ω—É–≤–∞–≤—Å—è**

–Ø–∫—â–æ Claude CLI –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ—á–∏–Ω–∞—î –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –ø–æ–º–∏–ª–∫–∏ —Ç–∏–ø—É `unauthorized` –∞–±–æ `authentication failed`:

1. **–í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞ —Ö–æ—Å—Ç—ñ**:
   ```bash
   claude auth login
   ```
2. –£–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä.
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**:
   ```bash
   docker-compose restart claude_bot
   ```

–ù–æ–≤–∏–π —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ —á–µ—Ä–µ–∑ –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è.

---

## ‚öôÔ∏è **3. .env —Ñ–∞–π–ª (–ø—Ä–∏–∫–ª–∞–¥)**

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:

```
# .env

# –û–±–æ–≤'—è–∑–∫–æ–≤–æ: —Ç–æ–∫–µ–Ω –≤–∞—à–æ–≥–æ Telegram-–±–æ—Ç–∞
TELEGRAM_BOT_TOKEN=your_actual_bot_token_here

# –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ Claude CLI
CLAUDE_AVAILABILITY_MONITOR=true

# –°–ø–∏—Å–æ–∫ Telegram chat_id –¥–ª—è —Å–ø–æ–≤—ñ—â–µ–Ω—å (—á–µ—Ä–µ–∑ –∫–æ–º—É)
CLAUDE_AVAILABILITY_NOTIFY_CHAT_IDS=-1001234567890,123456789

# –Ü–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (—Å–µ–∫—É–Ω–¥–∏)
CLAUDE_AVAILABILITY_CHECK_INTERVAL=60

# –í—ñ–∫–Ω–æ DND (–Ω–µ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∑ 23:00 –¥–æ 08:00 –∑–∞ –ö–∏—î–≤–æ–º)
CLAUDE_AVAILABILITY_DND_START=23:00
CLAUDE_AVAILABILITY_DND_END=08:00

# –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏—Ö —É—Å–ø—ñ—à–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
CLAUDE_AVAILABILITY_DEBOUNCE_OK_COUNT=2

# –î–æ–¥–∞—Ç–∫–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
DEBUG=false
LOG_LEVEL=INFO
```

> üîë **–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ `TELEGRAM_BOT_TOKEN`?**  
> –°—Ç–≤–æ—Ä—ñ—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather) —É Telegram.

> üìå **–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ `chat_id`?**  
> –ù–∞–¥—ñ—à–ª—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É —á–∞—Ç ‚Üí –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot) –∞–±–æ –∑—Ä–æ–±—ñ—Ç—å –∑–∞–ø–∏—Ç –¥–æ `https://api.telegram.org/bot<TOKEN>/getUpdates`.

---

## üöÄ **4. –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—é**

–í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:

### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π (—è–∫—â–æ —â–µ –Ω–µ –∫–ª–æ–Ω–æ–≤–∞–Ω–æ)

```
git clone https://github.com/your-username/claude-code-telegram-main.git
cd claude-code-telegram-main
```

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–∏—Ç–∏ `.env` —Ñ–∞–π–ª

–°–∫–æ–ø—ñ—é–π—Ç–µ –≤–º—ñ—Å—Ç –ø—Ä–∏–∫–ª–∞–¥—É –≤–∏—â–µ —É —Ñ–∞–π–ª `.env` —Ç–∞ –ø—ñ–¥—Å—Ç–∞–≤—Ç–µ —Å–≤–æ—ó –∑–Ω–∞—á–µ–Ω–Ω—è, –æ—Å–æ–±–ª–∏–≤–æ `TELEGRAM_BOT_TOKEN` —Ç–∞ `CLAUDE_AVAILABILITY_NOTIFY_CHAT_IDS`.

### –ö—Ä–æ–∫ 3: –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –¥–ª—è –¥–∞–Ω–∏—Ö

```
mkdir -p data
```

–¶—è –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ —Ñ–∞–π–ª–∏ —Å—Ç–∞–Ω—É:
- `./data/.claude_last_cmd.json` ‚Äî –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω (available/unavailable)
- `./data/transitions.jsonl` ‚Äî —ñ—Å—Ç–æ—Ä—ñ—è –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ —Å—Ç–∞–Ω—ñ–≤

### –ö—Ä–æ–∫ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```
docker-compose up -d --build
```

### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏

```
docker-compose logs -f claude_bot
```

–û—á—ñ–∫—É–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –ª–æ–≥–∞—Ö:
```
‚úÖ Claude CLI monitoring enabled. Interval: 60s. Notification chats: [-1001234567890, 123456789]
‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ Claude CLI —É–≤—ñ–º–∫–Ω–µ–Ω–æ.
üü¢ Claude Code CLI Available
üìÖ `2025-04-05 09:15:33`
üñ•Ô∏è `Linux x86_64`
‚è±Ô∏è  (–ø–µ—Ä–µ—Ä–≤–∞: 2–≥–æ–¥ 45—Ö–≤)
```

### –ö—Ä–æ–∫ 6: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —É Telegram

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∫–∞–∑–∞–Ω–∏–π —á–∞—Ç –æ—Ç—Ä–∏–º–∞–≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É —Ñ–æ—Ä–º–∞—Ç—ñ:

```
üü¢ **Claude Code CLI Available**
üìÖ `2025-04-05 09:15:33`
üñ•Ô∏è `Linux x86_64`
‚è±Ô∏è  (–ø–µ—Ä–µ—Ä–≤–∞: 2–≥–æ–¥ 45—Ö–≤)
```

---

## üîÑ **5. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –±–æ—Ç–∞**

–î–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É –±–æ—Ç–∞:

```
git pull origin main
docker-compose up -d --build
```

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–±–µ—Ä–µ—Å—è —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∑ –Ω–æ–≤–∏–º –∫–æ–¥–æ–º. –°—Ç–∞–Ω –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É `./data`, —Ç–æ–º—É —ñ—Å—Ç–æ—Ä—ñ—è –Ω–µ –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è.

---

## üõ†Ô∏è **6. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**

### –ó–º—ñ–Ω–∞ —á–∞—Ç—ñ–≤ –¥–ª—è —Å–ø–æ–≤—ñ—â–µ–Ω—å

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`:

```
CLAUDE_AVAILABILITY_NOTIFY_CHAT_IDS=111111111,-1002222222222,333333333
```

–ü–æ—Ç—ñ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å:

```
docker-compose up -d
```

### –ó–º—ñ–Ω–∞ DND –≤—ñ–∫–Ω–∞

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env`:

```
CLAUDE_AVAILABILITY_DND_START=00:00
CLAUDE_AVAILABILITY_DND_END=07:00
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å.

---

## üö® **7. Troubleshooting**

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: `Claude CLI not found` —É –ª–æ–≥–∞—Ö

**–°–∏–º–ø—Ç–æ–º–∏:**
```
Claude CLI –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π: [Errno 2] No such file or directory: 'claude'
```

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `claude` –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `Dockerfile` ‚Äî –º–∞—î –±—É—Ç–∏ —Ä—è–¥–æ–∫:
   ```dockerfile
   RUN npm install -g @anthropic-ai/claude-code
   ```

2. –£–≤—ñ–π–¥—ñ—Ç—å —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Ä—É—á–Ω—É:
   ```bash
   docker-compose exec claude_bot bash
   which claude
   claude --version
   ```

3. –Ø–∫—â–æ `claude` –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, –æ–Ω–æ–≤—ñ—Ç—å `Dockerfile`, –¥–æ–¥–∞–≤—à–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è `nodejs` —Ç–∞ `npm`:

   ```dockerfile
   RUN apt-get update && apt-get install -y \
       curl \
       git \
       jq \
       gcc \
       nodejs \
       npm \
       && rm -rf /var/lib/apt/lists/*
   ```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –Ω–µ –Ω–∞–¥—Ö–æ–¥—è—Ç—å

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:**

1. –ü—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å `TELEGRAM_BOT_TOKEN`.
2. –ß–∏ –¥–æ–¥–∞–Ω–æ –±–æ—Ç–∞ –¥–æ —á–∞—Ç—ñ–≤, —è–∫—ñ –≤–∫–∞–∑–∞–Ω—ñ –≤ `CLAUDE_AVAILABILITY_NOTIFY_CHAT_IDS`.
3. –ß–∏ –º–∞—î –±–æ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É –≥—Ä—É–ø–∞—Ö (–¥–ª—è —Å—É–ø–µ—Ä–≥—Ä—É–ø ‚Äî –¥–æ–¥–∞—Ç–∏ —è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞).
4. –õ–æ–≥–∏: `docker-compose logs -f claude_bot` ‚Äî —à—É–∫–∞–π—Ç–µ –ø–æ–º–∏–ª–∫–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è.

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª–∏ —Å—Ç–∞–Ω—É –Ω–µ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞:**

```
ls -la ./data
```

–Ø–∫—â–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –ø–æ—Ä–æ–∂–Ω—è –∞–±–æ –Ω–µ–º–∞—î –ø—Ä–∞–≤ ‚Äî –≤–∏–ø—Ä–∞–≤—Ç–µ:

```
sudo chown -R 1001:1001 ./data
sudo chmod -R 755 ./data
```

---

## üìÇ **8. –î–µ —à—É–∫–∞—Ç–∏ —Ñ–∞–π–ª–∏ —Å—Ç–∞–Ω—É?**

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Ñ–∞–π–ª–∏ –∑'—è–≤–ª—è—Ç—å—Å—è —É:

- `./data/.claude_last_cmd.json` ‚Äî –æ—Å—Ç–∞–Ω–Ω—ñ–π —Å—Ç–∞–Ω —Ç–∞ —á–∞—Å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.
- `./data/transitions.jsonl` ‚Äî –∂—É—Ä–Ω–∞–ª —É—Å—ñ—Ö –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ (–∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫ ‚Äî –æ–∫—Ä–µ–º–∏–π JSON).

–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Å—É –≤ `transitions.jsonl`:
```
{"timestamp": "2025-04-05T09:15:33+03:00", "from": "unavailable", "to": "available", "duration_unavailable": 10000.5, "platform": "Linux x86_64"}
```

---

‚úÖ **–ì–æ—Ç–æ–≤–æ!**  
–í–∞—à –±–æ—Ç —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–æ, –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ —Ç–∞ –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏. –í—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–µ–∂–∏—Ç–∏–º–µ –∑–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—é Claude CLI —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏–º–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —É Telegram –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º DND.
```

```

## üê≥ **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (Linux/macOS)**

```bash
# 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/your-username/claude-code-telegram-main.git
cd claude-code-telegram-main

# 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Claude CLI –Ω–∞ —Ö–æ—Å—Ç—ñ
npm install -g @anthropic-ai/claude-code

# 3. –ê–≤—Ç–æ—Ä–∏–∑—É–≤–∞—Ç–∏—Å—è –Ω–∞ —Ö–æ—Å—Ç—ñ
claude auth login
# ‚Üí –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É –±—Ä–∞—É–∑–µ—Ä—ñ —Ç–∞ —É–≤—ñ–π–¥—ñ—Ç—å

# 4. –°—Ç–≤–æ—Ä–∏—Ç–∏ .env —Ç–∞ data
cp .env.example .env
mkdir -p data

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–∏
docker-compose up -d --build
```

---

## ü™ü **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (Windows PowerShell)**

```powershell
# 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/your-username/claude-code-telegram-main.git
cd claude-code-telegram-main

# 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Claude CLI (—á–µ—Ä–µ–∑ npm)
npm install -g @anthropic-ai/claude-code

# 3. –ê–≤—Ç–æ—Ä–∏–∑—É–≤–∞—Ç–∏—Å—è
claude auth login
# ‚Üí –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É –±—Ä–∞—É–∑–µ—Ä—ñ —Ç–∞ —É–≤—ñ–π–¥—ñ—Ç—å

# 4. –°—Ç–≤–æ—Ä–∏—Ç–∏ .env —Ç–∞ data
Copy-Item .env.example .env
mkdir data

# 5. –í–Ü–î–†–ï–î–ê–ì–£–ô–¢–ï docker-compose.yml: –∑–∞–º—ñ–Ω—ñ—Ç—å ~/.claude –Ω–∞ ${USERPROFILE}/.claude

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç–∏
docker-compose up -d --build