# –ü—Ä–æ–º–ø—Ç: –ö–æ–º–ø–ª–µ–∫—Å–Ω–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Telegram –±–æ—Ç–∞

## –û–ø–∏—Å –ø—Ä–æ—Ü–µ—Å—É
–¶–µ–π –ø—Ä–æ–º–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –ø–æ–≤–Ω–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Claude Code Telegram –±–æ—Ç–∞ –ø—ñ—Å–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º —É —Ä–æ–±–æ—Ç—ñ, –≤–∫–ª—é—á–∞—é—á–∏ –ø–æ–º–∏–ª–∫–∏ –∫–æ–ª–±–µ–∫—ñ–≤, –ø—Ä–æ–±–ª–µ–º–∏ –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó, –∑–∞–≤–∏—Å–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—ñ–≤ –∞–±–æ —ñ–Ω—à—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –∑–±–æ—ó.

## –î—ñ–∞–ª–æ–≥ –∑ Claude Code

**–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á:**
```
comprehensive-bot-restart
```

**Claude Code –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î:**
–Ø –≤–∏–∫–æ–Ω–∞—é –∫–æ–º–ø–ª–µ–∫—Å–Ω–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Telegram –±–æ—Ç–∞. –¶–µ –≤–∫–ª—é—á–∞—î:

1. –ê–Ω–∞–ª—ñ–∑ —Ç–∞ –∑—É–ø–∏–Ω–∫–∞ –≤—Å—ñ—Ö –∑–∞–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ –±–æ—Ç–∞
2. –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ –ª–æ–≥–∞—Ö
3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –∫–æ–¥—É —Ç–∞ –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó
4. –ß–∏—Å—Ç–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∑ –ø–æ–≤–Ω–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
5. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É
6. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

–ü–æ—á–Ω–µ–º–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

*–í–∏–∫–æ–Ω—É—î –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –∫–æ–º–∞–Ω–¥:*

```bash
echo "=== Comprehensive Bot Restart Analysis ==="
date
echo "Current directory: $(pwd)"

# 1. –ê–Ω–∞–ª—ñ–∑ –∑–∞–ø—É—â–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤
echo "=== Running Bot Processes ==="
ps aux | grep -E "(python.*src\.main|claude.*bot)" | grep -v grep || echo "No bot processes found"

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ–Ω–æ–≤–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ —Ç–∞ –ø–æ—Ä—Ç—ñ–≤
echo "=== Background Processes Check ==="
pgrep -f "src.main" | while read pid; do
    echo "Found bot process: $pid"
    ps -p $pid -o pid,ppid,cmd
done

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–π–Ω—è—Ç–æ—Å—Ç—ñ –ø–æ—Ä—Ç—ñ–≤
echo "=== Port Usage Check ==="
netstat -tulpn 2>/dev/null | grep -E ":(8080|8443|3000)" | head -5

# 4. –ê–Ω–∞–ª—ñ–∑ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –ª–æ–≥—ñ–≤ –Ω–∞ –ø–æ–º–∏–ª–∫–∏
echo "=== Recent Error Analysis ==="
if [ -f /tmp/bot_debug.log ]; then
    tail -50 /tmp/bot_debug.log | grep -i -E "(error|exception|failed|git.*parse)" | tail -10
else
    echo "No debug log found"
fi
```

*–ó—É–ø–∏–Ω–∫–∞ –≤—Å—ñ—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤:*

```bash
echo "=== Stopping All Bot Processes ==="

# –ó–Ω–∞—Ö–æ–¥–∏–º–æ —Ç–∞ –∑—É–ø–∏–Ω—è—î–º–æ –≤—Å—ñ –ø—Ä–æ—Ü–µ—Å–∏ –±–æ—Ç–∞
pgrep -f "src.main" | while read pid; do
    echo "Stopping bot process: $pid"
    kill -TERM $pid
    sleep 2
    if kill -0 $pid 2>/dev/null; then
        echo "Force killing process: $pid"
        kill -KILL $pid
    fi
done

# –ó—É–ø–∏–Ω—è—î–º–æ —Ñ–æ–Ω–æ–≤—ñ –ø—Ä–æ—Ü–µ—Å–∏
pgrep -f "run.*optimized" | while read pid; do
    echo "Stopping optimization process: $pid"
    kill -TERM $pid
done

# –û—á–∏—Å—Ç–∫–∞ —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤
rm -f /tmp/bot_debug.log
rm -f /tmp/bot_error.log

echo "‚úÖ All processes stopped"
```

*–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:*

```bash
echo "=== Configuration Validation ==="

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
echo "1. Checking essential files:"
for file in .env src/main.py src/localization/translations/uk.json src/localization/translations/en.json; do
    if [ -f "$file" ]; then
        echo "‚úÖ $file exists"
    else
        echo "‚ùå $file missing"
    fi
done

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Python —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
echo "2. Python environment check:"
if [ -d "venv" ]; then
    echo "‚úÖ Virtual environment exists"
    source venv/bin/activate
    echo "Python version: $(python --version)"
    echo "Bot dependencies:"
    python -c "
import sys
try:
    import telegram
    print(f'‚úÖ python-telegram-bot: {telegram.__version__}')
except ImportError:
    print('‚ùå python-telegram-bot not installed')

try:
    import structlog
    print('‚úÖ structlog available')
except ImportError:
    print('‚ùå structlog not installed')
"
else
    echo "‚ùå Virtual environment not found"
fi

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó
echo "3. Localization validation:"
python -c "
import json
import sys
sys.path.insert(0, 'src')

try:
    with open('src/localization/translations/uk.json', 'r', encoding='utf-8') as f:
        uk_data = json.load(f)
    with open('src/localization/translations/en.json', 'r', encoding='utf-8') as f:
        en_data = json.load(f)

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ git —Å–µ–∫—Ü—ñ—ó
    if 'git' in uk_data and 'git' in en_data:
        git_keys = ['processing', 'success', 'error', 'diff_title']
        for key in git_keys:
            uk_key = f'git.{key}' in str(uk_data.get('git', {}))
            en_key = f'git.{key}' in str(en_data.get('git', {}))
            if uk_key and en_key:
                print(f'‚úÖ git.{key} localized')
            else:
                print(f'‚ùå git.{key} missing in localizations')
    else:
        print('‚ùå Git localization missing')

except Exception as e:
    print(f'‚ùå Localization validation failed: {e}')
"
```

*–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏:*

```bash
echo "=== Code Syntax Validation ==="
python -m py_compile src/main.py && echo "‚úÖ main.py syntax OK" || echo "‚ùå main.py syntax error"
python -m py_compile src/bot/handlers/callback.py && echo "‚úÖ callback.py syntax OK" || echo "‚ùå callback.py syntax error"
python -m py_compile src/bot/handlers/command.py && echo "‚úÖ command.py syntax OK" || echo "‚ùå command.py syntax error"
```

*–ß–∏—Å—Ç–∏–π –∑–∞–ø—É—Å–∫ –∑ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º:*

```bash
echo "=== Clean Bot Startup ==="

# –°—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–∏–π –ª–æ–≥ —Ñ–∞–π–ª
log_file="/tmp/bot_restart_$(date +%Y%m%d_%H%M%S).log"
echo "Starting bot with fresh logs: $log_file"

# –ó–∞–ø—É—Å–∫ –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –ª–æ–≥—É–≤–∞–Ω–Ω—è–º
source venv/bin/activate
nohup python -m src.main --debug > "$log_file" 2>&1 &
bot_pid=$!

echo "Bot started with PID: $bot_pid"
echo "Log file: $log_file"

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—É—Å–∫—É (–ø–µ—Ä—à—ñ 10 —Å–µ–∫—É–Ω–¥)
echo "=== Startup Monitoring ==="
for i in {1..10}; do
    if kill -0 $bot_pid 2>/dev/null; then
        echo "[$i/10] Bot process running (PID: $bot_pid)"

        # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤ –Ω–∞ –ø–æ–º–∏–ª–∫–∏
        if [ -f "$log_file" ]; then
            errors=$(grep -i -E "(error|exception|failed)" "$log_file" | wc -l)
            if [ $errors -gt 0 ]; then
                echo "‚ö†Ô∏è Found $errors errors in startup logs"
            fi
        fi

        sleep 1
    else
        echo "‚ùå Bot process died during startup"
        echo "Last log entries:"
        tail -20 "$log_file" 2>/dev/null
        exit 1
    fi
done

echo "‚úÖ Bot startup monitoring completed"
```

*–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:*

```bash
echo "=== Functional Testing ==="

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ–º–ø–æ—Ä—Ç—É –º–æ–¥—É–ª—ñ–≤
python -c "
import sys
sys.path.insert(0, 'src')

test_results = []

try:
    from src.bot.handlers.command import git_handler
    test_results.append('‚úÖ Git command handler import OK')
except Exception as e:
    test_results.append(f'‚ùå Git command handler import failed: {e}')

try:
    from src.bot.handlers.callback import handle_git_callback
    test_results.append('‚úÖ Git callback handler import OK')
except Exception as e:
    test_results.append(f'‚ùå Git callback handler import failed: {e}')

try:
    from src.localization.util import t
    test_results.append('‚úÖ Localization utility import OK')
except Exception as e:
    test_results.append(f'‚ùå Localization utility import failed: {e}')

for result in test_results:
    print(result)
"

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Telegram API connectivity (—è–∫—â–æ —î —Ç–æ–∫–µ–Ω)
if [ -f ".env" ] && grep -q "TELEGRAM_BOT_TOKEN" .env; then
    echo "Testing Telegram API connectivity..."
    python -c "
import os
import asyncio
from telegram import Bot
from dotenv import load_dotenv

async def test_telegram():
    load_dotenv()
    token = os.getenv('TELEGRAM_BOT_TOKEN')
    if token:
        try:
            bot = Bot(token)
            me = await bot.get_me()
            print(f'‚úÖ Telegram API OK - Bot: {me.username}')
        except Exception as e:
            print(f'‚ùå Telegram API failed: {e}')
    else:
        print('‚ö†Ô∏è No Telegram token found')

asyncio.run(test_telegram())
"
fi
```

**–ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:**

–ù–∞ –æ—Å–Ω–æ–≤—ñ –∞–Ω–∞–ª—ñ–∑—É —è –≤–∏—è–≤–∏–≤:

**üìä –°—Ç–∞–Ω –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É:**
- –ü—Ä–æ—Ü–µ—Å–∏: [—Å—Ç–∞—Ç—É—Å bot –ø—Ä–æ—Ü–µ—Å—ñ–≤]
- –õ–æ–≥–∏: [–∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ —É startup –ª–æ–≥–∞—Ö]
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è: [—Å—Ç–∞—Ç—É—Å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó]
- –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å: [—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤]

**üìã –í–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:**
- [–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –∑ –ª–æ–≥—ñ–≤ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è]
- [–ü—Ä–æ–±–ª–µ–º–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó]
- [–ü—Ä–æ–±–ª–µ–º–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π]

**üîß –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥—ñ—ó:**
1. [–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –≤–∏—è–≤–ª–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º]
2. [–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó]
3. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É]

–ß–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥—ñ—ó –∞–±–æ –º–∞—î—Ç–µ –ø–∏—Ç–∞–Ω–Ω—è —â–æ–¥–æ —Å—Ç–∞–Ω—É –±–æ—Ç–∞?

## –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É

**–®–≤–∏–¥–∫–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (—è–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ):**
```
quick-bot-restart
```

**–ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–æ—é Git –ø—Ä–æ–±–ª–µ–º:**
```
git-focused-restart
```

**–ï–∫—Å—Ç—Ä–µ–Ω–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–±–æ—è—Ö):**
```
emergency-bot-restart
```

**–ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ –ø–æ–≤–Ω–∏–º –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:**
```
full-dependency-restart
```

## Claude Code –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏:

### quick-bot-restart:
```bash
echo "=== Quick Bot Restart ==="

# –®–≤–∏–¥–∫–∞ –∑—É–ø–∏–Ω–∫–∞
pkill -f "src.main"
sleep 2

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
python -m py_compile src/main.py || exit 1

# –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫
source venv/bin/activate
nohup python -m src.main --debug &>/tmp/quick_restart.log &
echo "Bot restarted quickly. PID: $!"

# –ö–æ—Ä–æ—Ç–∫–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
sleep 5
if pgrep -f "src.main" >/dev/null; then
    echo "‚úÖ Quick restart successful"
else
    echo "‚ùå Quick restart failed"
    tail -20 /tmp/quick_restart.log
fi
```

### git-focused-restart:
```bash
echo "=== Git-Focused Bot Restart ==="

# –ó—É–ø–∏–Ω–∫–∞ –∑ –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ Git –ø—Ä–æ–±–ª–µ–º–∏
pkill -f "src.main"

# –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ Git –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
echo "Validating Git components:"
python -c "
import sys, json
sys.path.insert(0, 'src')

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Git –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó
with open('src/localization/translations/uk.json', 'r', encoding='utf-8') as f:
    uk = json.load(f)
with open('src/localization/translations/en.json', 'r', encoding='utf-8') as f:
    en = json.load(f)

git_keys = ['processing', 'success', 'error', 'diff_title', 'unknown_git_action']
for key in git_keys:
    if key in str(uk.get('git', {})) and key in str(en.get('git', {})):
        print(f'‚úÖ git.{key}')
    else:
        print(f'‚ùå git.{key} missing')

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Git callback handler
try:
    from src.bot.handlers.callback import handle_git_callback
    print('‚úÖ Git callback handler loaded')
except Exception as e:
    print(f'‚ùå Git callback handler error: {e}')
"

# –ó–∞–ø—É—Å–∫ –∑ —Ñ–æ–∫—É—Å–æ–º –Ω–∞ Git –ª–æ–≥—É–≤–∞–Ω–Ω—è
source venv/bin/activate
python -m src.main --debug 2>&1 | tee /tmp/git_restart.log | grep -i git &

echo "Git-focused restart completed"
```

### emergency-bot-restart:
```bash
echo "=== Emergency Bot Restart ==="

# –°—Ç–≤–æ—Ä—é—î–º–æ backup –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É
backup_dir="emergency_backup_$(date +%Y%m%d_%H%M%S)"
mkdir -p "backups/$backup_dir"
cp -f /tmp/bot_debug.log "backups/$backup_dir/" 2>/dev/null

# –ê–≥—Ä–µ—Å–∏–≤–Ω–∞ –∑—É–ø–∏–Ω–∫–∞ –≤—Å—ñ—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤
pkill -9 -f "src.main"
pkill -9 -f "python.*claude"
pkill -9 -f "run.*optimized"

# –û—á–∏—Å—Ç–∫–∞ –≤—Å—ñ—Ö –ª–æ–≥—ñ–≤ —Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
rm -f /tmp/bot_*.log
rm -f /tmp/claude_*.log

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
echo "System resources:"
free -h
df -h . | tail -1

# –ï–∫—Å—Ç—Ä–µ–Ω–∏–π –∑–∞–ø—É—Å–∫ –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –ª–æ–≥–∞–º–∏
source venv/bin/activate
python -m src.main > /tmp/emergency_restart.log 2>&1 &
emergency_pid=$!

echo "Emergency restart initiated with PID: $emergency_pid"

# –Ü–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
for i in {1..15}; do
    if kill -0 $emergency_pid 2>/dev/null; then
        echo "[$i/15] Emergency process stable"
        sleep 1
    else
        echo "‚ùå Emergency restart failed"
        cat /tmp/emergency_restart.log
        exit 1
    fi
done

echo "üö® Emergency restart completed successfully"
```

### full-dependency-restart:
```bash
echo "=== Full Dependency Restart ==="

# –ó—É–ø–∏–Ω–∫–∞ –±–æ—Ç–∞
pkill -f "src.main"

# –û–Ω–æ–≤–ª–µ–Ω–Ω—è Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
source venv/bin/activate
echo "Updating dependencies..."
pip install --upgrade pip
pip install -r requirements.txt --upgrade

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ–π –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫
echo "Checking library versions:"
python -c "
import telegram, structlog, asyncio
print(f'telegram: {telegram.__version__}')
print(f'structlog: {structlog.__version__}')
print(f'python: {__import__('sys').version}')
"

# –ü–æ–≤–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
python -m py_compile src/main.py
python -c "from src.main import create_bot_application; print('‚úÖ Application validation passed')"

# –ó–∞–ø—É—Å–∫ –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
python -m src.main --debug &>/tmp/dependency_restart.log &
echo "Full dependency restart completed with PID: $!"
```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º
common_issues = {
    'git_parse_error': 'Git callback parse entities error',
    'import_error': 'Module import failures',
    'telegram_api_error': 'Telegram API connectivity issues',
    'localization_error': 'Missing or corrupted translation files',
    'process_zombie': 'Zombie bot processes',
    'port_conflict': 'Port already in use conflicts'
}

def diagnose_and_recommend():
    issues_found = []
    recommendations = []

    # –ê–Ω–∞–ª—ñ–∑ –ª–æ–≥—ñ–≤
    if check_logs_for_pattern('parse entities'):
        issues_found.append('git_parse_error')
        recommendations.append('Fix Git message formatting in localization')

    if check_process_count() > 1:
        issues_found.append('process_zombie')
        recommendations.append('Kill all bot processes before restart')

    if not validate_localization_files():
        issues_found.append('localization_error')
        recommendations.append('Restore or fix translation files')

    return generate_action_plan(issues_found, recommendations)
```

## –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏
- ‚úÖ –ü—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö Git callback ("Can't parse entities")
- ‚úÖ –ü—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–Ω—ñ –∞–±–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—ñ –ø—Ä–æ—Ü–µ—Å—ñ–≤ –±–æ—Ç–∞
- ‚úÖ –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó –∞–±–æ –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤
- ‚úÖ –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö Telegram API
- ‚úÖ –ü—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É –∞–±–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- ‚úÖ –ü—Ä–∏ –ø—ñ–¥–æ–∑—Ä—ñ –Ω–∞ –∫–æ—Ä—É–ø—Ü—ñ—é —Å—Ç–∞–Ω—É –±–æ—Ç–∞

## –ë–µ–∑–ø–µ—á–Ω—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏
- üîí –ó–∞–≤–∂–¥–∏ —Å—Ç–≤–æ—Ä—é—î backup –ª–æ–≥—ñ–≤ –ø–µ—Ä–µ–¥ —Ä–µ—Å—Ç–∞—Ä—Ç–æ–º
- üìä –í–∞–ª—ñ–¥—É—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- üîç –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
- üìù –î–æ–∫—É–º–µ–Ω—Ç—É—î –≤—Å—ñ –≤–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏
- ‚ö° –ù–∞–¥–∞—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è —É—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º
- üö® –ú–∞—î –∞–≤–∞—Ä—ñ–π–Ω—ñ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π